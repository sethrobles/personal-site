{% extends "base.html" %}

{% block title %}Blog - Seth Robles{% endblock %}
{% block description %}Read my latest thoughts on technology, development, and industry insights.{% endblock %}

{% block content %}
<section class="projects-header">
    <div class="container">
        <header class="section-header">
            <h1 class="section-title">My Blog Posts</h1>
            <p class="section-description">Thoughts on technology, development, and industry insights</p>
        </header>

        <div class="projects-controls">
            <div class="search-box" style="position:relative;">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="position:absolute;left:0.75rem;top:50%;transform:translateY(-50%);pointer-events:none;">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="blog-search" placeholder="Search blog posts..." class="search-input" style="padding-left:2.5rem;">
            </div>

            <div class="tag-filters" id="blog-tag-filters">
                <button class="tag-filter active" data-tag="all">All</button>
                {% set all_tags = [] %}
                {% for post in posts %}
                    {% if post.metadata.tags %}
                        {% for tag in post.metadata.tags %}
                            {% if tag not in all_tags %}
                                {% set _ = all_tags.append(tag) %}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endfor %}

                {% for tag in all_tags[50] %}
                <button class="tag-filter" data-tag="{{ tag }}">{{ tag }}</button>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<section class="projects-content">
    <div class="container">
        <div class="projects-grid" id="blog-grid">
            {% from '_components/entry_card.html' import entry_card %}
            {% for entry in posts %}
                {{ entry_card(entry) }}
            {% endfor %}
        </div>

        <div class="no-results" id="no-blog-results" style="display: none;">
            <div class="no-results-content">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <h3>No blog posts found</h3>
                <p>Try adjusting your search or filter criteria</p>
            </div>
        </div>
    </div>
</section>

<script src="/static/js/search.js"></script>
<script>
    setupSearchAndFilter({
        searchInputId: 'blog-search',
        tagFilterSelector: '#blog-tag-filters .tag-filter',
        gridId: 'blog-grid',
        noResultsId: 'no-blog-results',
        cardSelector: '.entry-card'
    });
</script>
{% endblock %}
