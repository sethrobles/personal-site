{% macro entry_card(entry) %}
<article class="card entry-card" data-tags="{{ entry.metadata.tags|join(',') if entry.metadata.tags else '' }}">
    <div class="card-image">
    {% if entry.metadata.thumbnail %}
    <img src="/static/uploads/{{ entry.metadata.type == 'blog' and 'blogs/' or 'projects/' }}{{ entry.slug }}/{{ entry.metadata.thumbnail }}"
             alt="{{ entry.metadata.title }}"
             class="card-thumbnail"
             loading="lazy">
    {% else %}
        <div class="card-placeholder">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21,15 16,10 5,21"></polyline>
            </svg>
        </div>
    {% endif %}
    </div>

    <div class="card-content">
        <header class="card-header">
            <div style="text-align:center">
                <h3 class="card-title">
                    <a href="/{{ entry.metadata.type == 'blog' and 'blogs' or 'projects' }}/{{ entry.slug }}/" class="card-link">
                        {{ entry.metadata.title }}
                    </a>
                </h3>
                {% if entry.metadata.date %}
                <time class="card-date" datetime="{{ entry.metadata.date }}">
                    {{ entry.metadata.date }}
                </time>
                {% endif %}
            </div>
        </header>

        {% if entry.metadata.tags %}
        <div class="card-tags">
            {% for tag in entry.metadata.tags[:3] %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
            {% if entry.metadata.tags|length > 3 %}
            <span class="tag tag-more">+{{ entry.metadata.tags|length - 3 }}</span>
            {% endif %}
        </div>
        {% endif %}

        {% if entry.metadata.summary %}
        <p class="card-summary">{{ entry.metadata.summary }}</p>
        {% endif %}
    </div>
</article>
{% endmacro %}
